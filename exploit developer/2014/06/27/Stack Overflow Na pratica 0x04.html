<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Stack Overflow Na pratica 0x04</title>
	
	<meta name="author" content="mh4x0f">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/resources/syntax/syntax.css" rel="stylesheet">
	<link href="/assets/css/style.css" rel="stylesheet">
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
	<!-- Le fav and touch icons -->
	<!-- Update these with your own images
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->

	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/mh4x0f">
				<i class="fa fa-github"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="http://twitter.com/mh4x0f">
				<i class="fa fa-twitter"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="mailto:mh4root@gmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			
			<a class="navbar-brand" href="/">
				<img src="http://avatars.githubusercontent.com/u/6795613" class="img-circle" />
				
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/categories.html">Categories</a></li>
				<li><a href="/tags.html">Tags</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="/"><i class="fa fa-home"></i>Home</a></li>
			<li><a href="/categories.html"><i class="fa fa-folder"></i>Categories</a></li>
			<li><a href="/tags.html"><i class="fa fa-tags"></i>Tags</a></li>
			<li class="divider"></li>
			<li><a href="#"><i class="fa fa-arrow-up"></i>Top of Page</a></li>
		</ul>
	</div>

	<div class="col-sm-3 sidebar hidden-xs">
		<!-- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<img src="http://avatars.githubusercontent.com/u/6795613" class="img-circle" style="width:112px;height:112px;" />
	</a>
	<h3 class="title">
        <a href="/"></a>
    </h3>
</header>


<div id="bio" class="text-center">
	One 0x41414141 worth a thousand words
</div>

<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/mh4x0f">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://twitter.com/mh4x0f">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:mh4root@gmail.com">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		
	</ul>
	<ul id="contact-list-secondary" class="list-unstyled list-inline">
		
		
		<form class="col-lg-12" action="http://feedburner.google.com/fb/a/mailverify?uri=chmodsecurity" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=chmodsecurity', 'popupwindow', 'scrollbars=yes,width=250,height=220');return true" >
			<div class="input-group" style="width:240px;text-align:center;margin:0 auto;">
			<input type="hidden" value="chmodsecurity" name="uri" >
		  <input type="hidden" name="loc" value="pt_BR">
		  <input  id="input-rss"  style="width:160px;text-align:center;" placeholder="Digite  seu e-mail" class="form-control input-lg" type="text" name="email">
		  <span class="input-group-btn"><button id="btn-assinar" class="btn btn-lg btn-primary"  type="submit" value=" ASSINAR ">Assinar</button></span>
	      </div>
		</form>
	</ul>
</div>
<!-- sidebar.html end -->

	</div>

	<div class="col-sm-9 col-sm-offset-3">
		<div class="page-header">
  <h1>Stack Overflow Na pratica 0x04 </h1>
</div>
	
<article>
	<div class="col-sm-10">
	 <span class="post-date">
	   
	   June 
	   27th,
	   
	   2014
	 </span>
	  <div class="article_body">
	  <p>.Não da pra falar sobre pilha(stack) sem falar como funciona a mesma,a pilha trabalha como LIFO, ((Last In First Out ? último a entrar, primeiro a sair). isso quer dizer a pilha armazena os valores como uma pilha de pratos, onde o ultimo prato a entrar é sempre o primeiro a sair. mais um detalhe sobre a stack sempre ela vai está apontando para a próxima instrução a ser executada tanto no windows como no linux, sem falar que ela trabalha em 'little end', ou seja, os valores são colocado ao contrário, veremos um exemplo desse tipo quando desenvolvermos nosso primeiro shellcode futuramente. Nesse artigos vamos trabalhar com linux 32 bit's, podemos trabalhar também como 64, mas a base tem que ser mostrada no x86 parceiro, Desde 1988, estouros de pilha levaram a compromissos mais sérios de segurança. Hoje em dia, muitos sistemas operacionais (incluindo Microsoft Windows 2003 Server, OpenBSD, e várias distribuições Linux) têm implementado mecanismos de proteção não executáveis &#8203;&#8203;pilha, e assim a eficácia das técnicas tradicionais de estouro de pilha é menor.
Por transbordando de dados na pilha, você pode realizar dois ataques diferentes para influenciar o fluxo do programa lógico e executar código arbitrário:</p>
<p><br />
[] Uma pilha esmagar, substituindo o ponteiro de instrução salva<br />
[] Uma pilha off-by-one, substituindo o ponteiro do quadro salvo<br /></p>
<pre class="code">
|-----------------------------| x0ffffff 
|                             |
| Funções de Argumentos       |  ^
|-----------------------------|  |
| Instrução de ponteiro salvo |  |
|-----------------------------|  |
| Frame de ponteiro salvo     |  |
|-----------------------------| ebp &lt;--- FP Frame ponteiro 
|                             |
|                             |
| Variáveis Locais            |
|                             |
|                             |
|-----------------------------| Esp &lt;--- Stack ponteiro
|                             | 
</pre>
<p>
o IP (Instruction Pointer) e o FP (Frame Pointer), que indicam respectivamente, a posição de memória para onde o processador deve continuar lendo após o termino da subrotina e um valor arbitrário para facilitar o trabalho do processador na hora de ler e escrever em variáveis locais e ler parâmetros. 
O FP ajuda o processador de modo que endereços lidos dentro do frame que possuam um valor maior que o endereço do FP é com certeza um parâmetro e endereços lidos dentro do frame que possuam um valor menor que o endereço do FP é uma variável local.
A soma do espaço reservado para o buffer desprotegido com o espaço ocupado pelo FP é chamado de payload space.
</p>
<p>Beleza, Em discussão em um fórum gringo, o c2ypt1c(se tiver lendo parceiro um salve, :D tamo junto ) me mandou um video dele antigo como ele falou mas da pra entender , mostrei pra ele os artigos que tava escrevendo ele falou que poderia ajudar então resolvi trazer e explicar, poderia ser o primeiro vídeo, mas resolvi mostrar uma coisa mais lite, o grande lance aqui é entender como funciona a stack e como podemos sobrescrever valores contido na mesma, para tomar controle do programa alvo. a melhor coisa para aprender é colocando a mão na massa, outra coisa quando falamos de shellcode, vamos ter que aprender um pouco de assembly espero que não tenha problema em entender como os registradores funciona, não vou entender em detalhe sobre eles nesse artigo.  Vamos lá, Tá no ponto ? Let's Go</p>
<p>Vou deixar logo o link do video <a href="https://www.youtube.com/watch?v=zJ2acC4fYT8" target="_blank">Buffer Overflow Exploit</a>, 2011  mas ta valendo. No vídeo ele demostra uma exploração de buffer né em C, e modifica o endereço esp e IP que é o próxima instrução a ser executada apontando para o shellcode, primeiro ele calcula tudo antes disso o tamanho do buffer e aponta para a variável shellcode onde ele usa o expert para criar a mesma. isso é um resumo de tudo, se você viu não entendeu nada, melhor continuar lendo parceiro. primeiro eu já falei sobre o <a>Randomize_va_scape</a>, que nada mais nada menos umas das proteções que o linux adotou para acabar com esse tipo de exploração já que os endereço vão mudando aleatoriamente não sabemos para onde ele vai apontar. agora vem o arquivo bof2.cpp, contém o seguinte código abaixo e novamente nem preciso explicar os parâmetros usando no g++ para complicar o arquivo não é ?. você viu no outro artigo.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cp">#include &lt; cstring &gt; </span><span class="c1">//O cstring cabeçalho fornece funções para lidar com cordas de estilo C - matrizes de terminação //nula de caracteres. Isso inclui funções como strlen e strcpy;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">){</span>
    <span class="kt">char</span> <span class="n">buff</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
    <span class="n">strcpy</span><span class="p">(</span><span class="n">buff</span><span class="p">,</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>em seguida ele usa a ferramenta pattern_create.rb que é um auxiliar do metasploit para gerar lixo kkkk, 30 bytes de lixo.  que substitui os 'A', para analisar melhor ele usa o gdb que parece coisa do outro mundo, mas não é um debugger como o ollydbg para linux, o comando run usando no vídeo é usado para rodar o programa com os lixo gerado pelo pattern_create, então ele calcula com o pattern_offset.rb quanto falta para sobrescrever o endereço :D ,que é 14 bytes agora ele cria a variável com nome <a>SHELLCODE</a> que vai conter nosso shellcode que executa uma shell (/bin/sh), não se preocupe vamos desenvolver na mão um shellcode /bin/sh/ ainda em breve. essa shell vai ficar em uma variável e logo essa variável vai está na memória do OS. há o msfpayload é um gerador de shellcode que é o mesmo que payload, da pra brincar muita com ele vamos aprender algumas coisas dele em breve, e novamente ele roda o programa do gdb para verificar o endereço da nossa variável, e ele fala lembrando que a pilha cresce pra baixo, isso mesmo, e heap pra cima não vamos entrar em detalhe o importante que ele mostra o valor endereço da variável logo depois disso <a>0xbffff73a</a> e ele confere que o nome do programa está realmente aqui em baixo. agora vem o outro arquivo getenv.c que nada mais nada menos que faz o trabalho de buscar o endereço do nosso <a>SHELLCODE</a>, ou seja, ele varre a memoria em busca do endereço da nossa variável <a>SHELLCODE</a>. Vamos da uma olhada no código :D </p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cp">#include &lt;cstdlib&gt;</span>
<span class="cp">#include &lt;cstdio&gt;</span>
<span class="cp">#include &lt;cstring&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">){</span>

	<span class="kt">char</span> <span class="o">*</span> <span class="n">ptr</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Usar: %s &lt;env var name&gt; &lt;target&gt; program name&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
		<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">ptr</span> <span class="o">=</span> <span class="n">getenv</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>  <span class="c1">// pega o endereço da variável</span>
	<span class="n">ptr</span> <span class="o">+=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="n">strlen</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span> <span class="c1">//ajustar diferentes em nomes</span>
	
	<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s @: %p&quot;</span><span class="p">,</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ptr</span><span class="p">);</span> <span class="c1">// %p mostra o endereço da variável</span>
	
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>Depois é só compilar, procurar pela variável <a>SHELLCODE</a> e colocar o programa em seguida 'bof2' vai mostrar exatamente onde está alocada a variável <a>SHELLCODE</a>, e depois ele roda o programa e gera com python a quantidade exata do buffer com python.</p>
<pre class="code">
root#./getenv SHELLCODE bof2
SHELLCODE @: 0xbffff747
root#./bof2 python `python -c 'print "\x90" * 14 + "\x47\xf7\xff\xbf"'` ' 
                                        ^      |            ^
                                        |    offset         |
                                        |                   |
                                [NOP,Não faz nada]   [Variável SHELLCODE em little end]
</pre>
<p> Não precisa ser necessariamente o Python muita gente usa o perl para gerar o NOP, não fazer nada os (x90), essa instrução vai falar pro processador "olha não faça nada valeu ? OK" o tamanho que pegamos antes de sobrescrever com pattern e nosso endereço do nosso shellcode hehehehe, como fale  a stack inverte tudo, então precisamos coloca-lo em little end, de traz pra frente vou tentar demostrar  melhor como fica, há lembrando nós escrevemos em big end, já o processador ler em little end, então temos que colocar ao contrário para fica certo olha só o exemplo:</p>

<div class="highlight"><pre><code class="language-asm" data-lang="asm"><span class="err">//</span> <span class="nf">lembrando</span> <span class="err">é</span> <span class="no">apenas</span> <span class="no">um</span> <span class="no">exemplo</span>
<span class="err">//</span> <span class="nf">n</span><span class="err">ã</span><span class="no">o</span> <span class="no">fique</span> <span class="no">com</span> <span class="no">medo</span> <span class="no">de</span> <span class="no">assembly</span> <span class="no">Voc</span><span class="err">ê</span> <span class="no">n</span><span class="err">ã</span><span class="no">o</span> <span class="err">é</span> <span class="no">COvarde</span><span class="err">;</span> 
<span class="err">//</span> <span class="no">n</span><span class="err">ã</span><span class="no">o</span> <span class="no">vamos</span> <span class="no">falar</span> <span class="no">de</span> <span class="no">assembly</span> <span class="no">agora</span> <span class="err">é</span> <span class="no">quando</span> <span class="no">chegarmos</span> <span class="no">l</span><span class="err">á</span> <span class="no">eu</span> <span class="no">mostra</span> <span class="no">como</span> <span class="no">funciona</span> <span class="p">:</span><span class="no">D</span>
<span class="nf">push</span> <span class="c"># comando em assembly empurra para stack um valor</span>
<span class="nf">section</span>     <span class="no">.text</span>
<span class="nf">global</span>      <span class="no">_start</span>                              

<span class="no">_start</span><span class="p">:</span>                                        
     <span class="no">push</span> <span class="no">msg</span> <span class="c"># empurra a string &#39;chmod&#39; para a stack </span>

<span class="nf">section</span>     <span class="no">.data</span>

<span class="nf">msg</span>     <span class="no">db</span>  <span class="err">&#39;</span><span class="no">chmod</span><span class="err">&#39;</span><span class="p">,</span><span class="mi">0xa</span></code></pre></div>

<p> Em assembly podemos empurrar e pop(puxar) os valores na stack, sempre com o sistema de LIFO(ultimo a entrar sempre o primeiro a sair), isso não vem ao caso vamos entender como funciona a stack né vamos lá </p>
<pre class="code">
|-----------------------------| x0ffffff 
|                             |
| Funções de Argumentos       |  ^
|-----------------------------|  |
| Instrução de ponteiro salvo |  |
|-----------------------------|  |
| Frame de ponteiro salvo     |  |
|-----------------------------| 
|      |     |     |     |    |
|      |     |     |     |    |
|      |     |     |     |    |
|      |     |     |     |'x0'| &lt;---  terminador '\n' ou'x00' bad char em breve vai entender  
|  'h' | 'o' | 'm' | 'h' |'c' |
|-----------------------------| Esp &lt;--- Stack ponteiro
|                             | 
</pre>
<p>Espero que você tenha entendido agora, é simples a stack coloca dessa forma e tira de lá em big end[bytes a bytes], da forma que deveria está não sei o porque o processador trabalha assim, pode ser uma forma fácil de tirar sei lá por algum motivo. Ao fornecer a entrada do usuário malformado que não está corretamente marcada, muitas vezes você pode sobrescrever os dados fora do tampão atribuído no qual os dados é suposto existir. Comumente você faz isso fornecendo muitos dados para um processo, que substitui valores importantes na memória e faz com que uma falha de programa. E outra coisa podemos também colidir com a heap que a stack decresce e a heap cresce podemos fazer uma colisão entre as duas e controlar, a aplicação 'crasha' e pode ser explorável, há crashar é o termo que nós vamos usar quando o programa da um falha de segmentação ou até mesmo um 'Não está respondendo do windows :D', em fim, a pilha é uma região de memória usada para armazenamento temporário Por ter acesso local ao programa e sistema operacional, juntamente com ferramentas de depuração (como gdb em ambientes Unix), você pode analisar o acidente do programa e identificar o endereço inicial do buffer, e outros endereços (como as variáveis &#8203;&#8203;de quadro de pilha). Até o próximo Artigo é fique coma  frase"Hurra. O segredo agora é outro." :D </p>

	  </div>

		
		<ul class="tag_box list-unstyled list-inline">
		  <li><i class="fa fa-folder-open"></i></li>
		  
		  
			 
				<li><a href="/categories.html#exploit developer-ref">
					exploit developer <span>(5)</span>
					
				</a></li>
			
		  
		</ul>
		  

		
		<ul class="list-inline">
		  <li><i class="fa fa-tags"></i></li>
		  
		  
			 
				<li>
					<a href="/tags.html#stack overflow-ref">
					stack overflow <span>(1)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#linux-ref">
					linux <span>(5)</span>
					
					</a>
				</li>
			
		  
		  
		</ul>
		  

		<hr>

		<div>
      <section class="share col-sm-6">
        <h4 class="section-title">Share Post</h4>
        <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text=Stack Overflow Na pratica 0x04&via=mh4x0f"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>
        <a class="btn btn-default btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>
        <a class="btn btn-default btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-lg"></i>
          Google+
        </a>
      </section>

      <section class="col-sm-6 author">
        <img src="http://avatars.githubusercontent.com/u/6795613" style="width:80px;height:80px;" class="img-rounded author-image" />
        <h4 class="section-title author-name">mh4x0f</h4>
        <p class="author-bio">One 0x41414141 worth a thousand words</p>
      </section>
    </div>

    <div class="clearfix"></div>

		<ul class="pager">
		  
		  <li class="previous"><a href="/c%20programming/2014/06/17/Escrevendo%20um%20Scanner%20Port%20%200xC3.html" title="Escrevendo um Scanner Port em C 0xC3">&larr; Previous</a></li>
		  
		  
		  <li class="next"><a href="/c%20programming/2014/07/01/Socket%20Criando%20Shellcode%20Remote%20exec%200xc4.html" title="Socket Criando Shellcode Remote exec 0xc4">Next &rarr;</a></li>
		  
		</ul>

		<hr>
	</div>
	
	<div class="col-sm-2 sidebar-2">
	
	</div>
</article>
<div class="clearfix"></div>



    
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'mh4x0fblog';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>





		<footer>
			<hr/>
			<p>
				&copy; 2015 mh4x0f with Jekyll. Theme: <a href="https://github.com/dbtek/dbyll">dbyll</a> by dbtek.
			</p>
		</footer>
	</div>

	<script type="text/javascript" src="/assets/resources/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/assets/resources/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>
</body>
</html>



<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'mh4x0f']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

